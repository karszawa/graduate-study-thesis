# 動作環境

H-DASはJavaの実行環境JRE(Java Runtime Environment)\cite{jre}で動作するプログラムである。
また、ユーザが記述したアルゴリズムをコンパイルするためにはJDK(Java Development Kit)8\cite{jdk}が必要となる。
JREもJDKもOracle社のWebサイトからダウンロードすることができる。

# インストール

H-DASのインストールは、付録のCDよりH-DASを適当なディレクトリにコピーすれば完了する。

# アンイストール

H-DASのアンインストールは、H-DASのディレクトリを削除すれば完了する。

# シミュレータの起動

H-DASは、アルゴリズムを記述するためのデスクリプタとシミュレーションを行うためのシミュレータからなる。
共に共通の画面から起動でき、起動画面を呼び出すにはH-DASディレクトリ内のbinディレクトリからコマンドラインに`java startup.Controller`と入力する。
すると図\ref{fig:startup}の起動画面が呼び出される。

![起動画面]

シミュレータを起動する場合には[Simulator]を、デスクリプタを起動する際には[Descriptor]をクリックすればよいが、その前にConfigure Pathsで設定をする必要がある。
図\ref{fig:configure-paths}はパスの設定画面である。
ここで、tools.jar及びシミュレーションを行うdasファイルのあるディレクトリの指定をしなければならない。
なおtools.jarはデスクリプタで、dasファイルのあるディレクトリはシミュレータでしか使わないので、どちらか片方しか使用しない場合は使わない方の設定はしなくても問題ない。

![Configure Paths]

# 分散アルゴリズムの記述

## モデル情報の入力

分散アルゴリズムの記述に使用するデスクリプタの初期画面を図\ref{fig:initial-descriptor}に示す。

![デスクリプタの初期画面]

メニューから[File]→[New]を選択し、出現するダイアログでシステムディレクトリを指定する。
次に出現するダイアログでは作成するアルゴリズムのシステム名を入力する。
そうすると、図\ref{fig:descriptor-inuse}のような画面になる。
ここで、画面左のツリーからノードを選択すると、画面右にモデル情報タブが表示されるので、画面下部の[Add]、[Modify]、[Delete]ボタンからモデル情報を編集する。

モデルはアルゴリズムごとにVariableモデル、Stateモデル、Eventモデル、Parameterモデル、及びMessageモデルがある。
Eventモデルの入力時に受信イベントで受信するメッセージの種別は、Messageモデルとして入力したものから選択することになる。

デフォルトのパラメータとして、Variableモデルには「Health」、Stateモデルには「tranquil」、[critical」「failed」、
Parameterモデルには「processID」、「numberOfProcess」、「FailureProbability」、「coterie」がある。
特に、Stateモデルの「failed」とParameterモデルのすべてパラメータはシステムに必須であるため変更・削除してはならない。

Parameterモデルのパラメータの変数の型として選択できるのはラッパークラスのInteger型とDouble型のみであるので注意が必要である。
また、Messageモデルのパラメータにはint型やdouble型などの基本データ型が使用できる。

モデル情報の入力が完了したら、メニューから[Function]→[Output a skeleton code]を選択し出現するダイアログでスケルトンコードを生成したいアルゴリズムを選択する。
これによりシステムディレクトリ及び、その内部にスケルトンコードが生成される。
ユーザはプロセス処理の記述に移行する前に、入力したモデル情報に誤りがないかを確認するため、図\ref{fig:build-button}をクリックしビルドを実行することが推奨される。

## プロセス処理の記述

## ビルド

# シミュレーション

## シミュレーションの開始

## イベントの実行

# シミュレータの機能

## 実行されたイベントの取り消し機能

## イベント生起の自動化機能

## 実行したシミュレーションの保存・再生

## 実行中のシミュレーションと同じ設定での再シミュレーション

## デッドロックの検出機能

## ヘルプマニュアル

# サンプルアルゴリズム

## Lamportのアルゴリズム

## 前川のアルゴリズム

